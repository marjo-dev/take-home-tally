<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Restaurant Income Tracker</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="wrap">
      <h1>üçΩÔ∏è Restaurant Income Tracker</h1>

      <!-- SETTINGS + ROLE MANAGER -->
      <div class="grid two">
        <!-- SETTINGS -->
        <div class="card">
          <h2>‚öôÔ∏è Settings</h2>
          <label
            >Tax Rate (%)
            <input type="number" id="set-tax" step="0.1" />
          </label>
          <label
            >401(k) (% of gross)
            <input type="number" id="set-k401" step="0.1" />
          </label>
          <label
            >Employer Match (%)
            <input type="number" id="set-match" step="0.1" />
          </label>
          <label
            >Other Deductions (%)
            <input type="number" id="set-other" step="0.1" />
          </label>
          <button id="save-settings" class="btn-ghost">Save Settings</button>
          <span class="muted">Saved locally.</span>
        </div>

        <!-- ROLE MANAGER -->
        <div class="card">
          <h2>üë§ Role Manager</h2>
          <label
            >Role Name
            <input type="text" id="role-name" placeholder="Server" />
          </label>
          <label
            >Hourly Rate ($)
            <input
              type="number"
              id="role-rate"
              step="0.01"
              placeholder="10.00"
            />
          </label>
          <button id="add-role" class="btn-ghost">Add / Update Role</button>

          <div class="table-wrap" style="margin-top: 10px">
            <table id="roles-table">
              <thead>
                <tr>
                  <th>Role</th>
                  <th>Hourly Rate</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- DAILY ENTRY -->
      <div class="card">
        <h2>üóìÔ∏è Daily Entry</h2>

        <div class="entry-row">
          <label class="date-field">
            Date
            <div class="date-input-wrap">
              <input type="date" id="entry-date" required />
              <button id="today-btn" type="button" class="btn-ghost small">
                Today
              </button>
            </div>
          </label>

          <label
            >Role
            <select id="entry-role"></select>
          </label>

          <label
            >Hours Worked
            <input
              type="number"
              id="entry-hours"
              step="0.1"
              placeholder="6"
              required
            />
          </label>

          <label
            >Tips Earned ($)
            <input type="number" id="entry-tips" step="0.01" placeholder="0" />
          </label>
        </div>

        <button id="add-entry" class="btn-ghost">Add Daily Entry</button>
      </div>

      <!-- WEEKLY SUMMARY -->
      <div class="card">
        <h2>üìÖ Weekly Summary</h2>

        <!-- YTD Total -->
        <div class="stats-paired">
          <div>
            <strong>Total Weeks:</strong> <span id="stat-weeks">0</span>
          </div>
          <div>
            <strong>Average Hours Worked per Week:</strong>
            <span id="avg-hours">0.00 h</span>
          </div>

          <div>
            <strong>Year to Date Gross Income:</strong>
            <strong id="stat-gross">$0.00</strong>
          </div>
          <div>
            <strong>Average Weekly Gross Income:</strong>
            <span id="avg-gross">$0.00</span>
          </div>

          <div>
            <strong>Year to Date Tax Deducted:</strong>
            <span id="stat-tax">$0.00</span>
          </div>
          <div>
            <strong>Average Weekly Tax Deducted:</strong>
            <span id="avg-tax">$0.00</span>
          </div>

          <div>
            <strong>Year to Date Take-home:</strong>
            <strong id="stat-net">$0.00</strong>
          </div>
          <div>
            <strong>Average Weekly Take-home:</strong>
            <span id="avg-net">$0.00</span>
          </div>

          <div>
            <strong>Year to Date Retirement Contribution:</strong>
            <span id="stat-retire">$0.00</span>
          </div>
          <div>
            <strong>Average Weekly Retirement Contribution:</strong>
            <span id="avg-retire">$0.00</span>
          </div>
        </div>

        <div class="table-wrap">
          <table id="weekly-table">
            <thead>
              <tr>
                <th>Week</th>
                <th>Total Hours</th>
                <th>Total Hourly Pay</th>
                <th>Total Tips</th>
                <th>Gross</th>
                <th>Taxable Income</th>
                <th>Estimated Tax</th>
                <th>Net</th>
                <th>Retirement</th>
                <th>Employer Match</th>
                <th>Details</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

      <!-- EXPORT / RESET -->
      <div class="card center">
        <h2>üíæ Backup / Restore</h2>

        <div class="button-row">
          <button id="export-data" class="btn-ghost">Export JSON</button>
          <button id="export-csv" class="btn-ghost">Export CSV</button>
        </div>

        <div class="button-row">
          <button id="reset-data" class="btn-danger">Reset All Data</button>
          <label for="import-csv" class="btn-ghost small">üì• Import CSV</label>
          <input
            type="file"
            id="import-csv"
            accept=".csv"
            style="display: none"
          />
        </div>

        <p class="muted" style="margin-top: 10px">
          ‚ö†Ô∏è Reset permanently deletes everything.
        </p>
      </div>
    </div>
    <script src="script.js"></script>
  </body>
</html>
